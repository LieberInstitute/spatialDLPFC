Adding LIBD modules
Loading git
Loading LIBD module for git-status-size/github
Loading LIBD module for git-lfs/2.8.0
Loading LIBD module for rmate/1.5.9
Loading LIBD module for ruby/2.6.4p104
Loading conda_R/4.3
**** Job starts ****
Tue Jul 18 11:24:07 EDT 2023
**** JHPCE info ****
User: lhuuki
Job id: 3632485
Job name: compute_registration_Dx_SZBDMulti-Seq
Hostname: compute-140.cm.cluster
Task id: undefined
Unloading conda_R/4.3
Loading conda_R/4.2.x

The following have been reloaded with a version change:
  1) conda_R/4.3 => conda_R/4.2.x


Currently Loaded Modules:
  1) matlab/R2019a     6) COMMUNITY_CENTOS7_DEFAULT_ENV  11) ruby/2.6.4p104
  2) stata/17          7) JHPCE_CENTOS7_DEFAULT_ENV      12) rmate/1.5.9
  3) JHPCE_tools/1.0   8) git-status-size/github         13) conda/3-4.11.0
  4) sge/8.1.9         9) git/2.28.0                     14) conda_R/4.2.x
  5) gcc/4.4.7        10) git-lfs/2.8.0

 

Loading required package: SummarizedExperiment
Loading required package: MatrixGenerics
Loading required package: matrixStats

Attaching package: ‘MatrixGenerics’

The following objects are masked from ‘package:matrixStats’:

    colAlls, colAnyNAs, colAnys, colAvgsPerRowSet, colCollapse,
    colCounts, colCummaxs, colCummins, colCumprods, colCumsums,
    colDiffs, colIQRDiffs, colIQRs, colLogSumExps, colMadDiffs,
    colMads, colMaxs, colMeans2, colMedians, colMins, colOrderStats,
    colProds, colQuantiles, colRanges, colRanks, colSdDiffs, colSds,
    colSums2, colTabulates, colVarDiffs, colVars, colWeightedMads,
    colWeightedMeans, colWeightedMedians, colWeightedSds,
    colWeightedVars, rowAlls, rowAnyNAs, rowAnys, rowAvgsPerColSet,
    rowCollapse, rowCounts, rowCummaxs, rowCummins, rowCumprods,
    rowCumsums, rowDiffs, rowIQRDiffs, rowIQRs, rowLogSumExps,
    rowMadDiffs, rowMads, rowMaxs, rowMeans2, rowMedians, rowMins,
    rowOrderStats, rowProds, rowQuantiles, rowRanges, rowRanks,
    rowSdDiffs, rowSds, rowSums2, rowTabulates, rowVarDiffs, rowVars,
    rowWeightedMads, rowWeightedMeans, rowWeightedMedians,
    rowWeightedSds, rowWeightedVars

Loading required package: GenomicRanges
Loading required package: stats4
Loading required package: BiocGenerics

Attaching package: ‘BiocGenerics’

The following objects are masked from ‘package:stats’:

    IQR, mad, sd, var, xtabs

The following objects are masked from ‘package:base’:

    anyDuplicated, aperm, append, as.data.frame, basename, cbind,
    colnames, dirname, do.call, duplicated, eval, evalq, Filter, Find,
    get, grep, grepl, intersect, is.unsorted, lapply, Map, mapply,
    match, mget, order, paste, pmax, pmax.int, pmin, pmin.int,
    Position, rank, rbind, Reduce, rownames, sapply, setdiff, sort,
    table, tapply, union, unique, unsplit, which.max, which.min

Loading required package: S4Vectors

Attaching package: ‘S4Vectors’

The following objects are masked from ‘package:base’:

    expand.grid, I, unname

Loading required package: IRanges
Loading required package: GenomeInfoDb
Loading required package: Biobase
Welcome to Bioconductor

    Vignettes contain introductory material; view with
    'browseVignettes()'. To cite Bioconductor, see
    'citation("Biobase")', and for packages 'citation("pkgname")'.


Attaching package: ‘Biobase’

The following object is masked from ‘package:MatrixGenerics’:

    rowMedians

The following objects are masked from ‘package:matrixStats’:

    anyMissing, rowMedians

Loading required package: SpatialExperiment
Loading required package: rafalib
here() starts at /dcs04/lieber/lcolladotor/spatialDLPFC_LIBD4035/spatialDLPFC
Running - SZBDMulti-Seq

SCE Dimesions:
[1] 27589  1563
  primaryDiagnosis  n
1 Bipolar Disorder 24
2          Control 24
3    Schizophrenia 24
            
             Bipolar Disorder Control Schizophrenia
  Astro                    24      24            24
  Chandelier               22      23            21
  Endo                      7      12            10
  Immune                    7       7            12
  L2.3.IT                  23      24            24
  L4.IT                    23      24            24
  L5.6.NP                  22      24            21
  L5.ET                    15      22            16
  L5.IT                    23      24            24
  L6.CT                    23      24            23
  L6.IT                    23      24            24
  L6.IT.Car3               23      23            22
  L6b                      23      24            22
  Lamp5                    23      24            23
  Lamp5.Lhx6               23      24            23
  Micro                    24      23            23
  Oligo                    24      24            24
  OPC                      24      23            24
  Pax6                     19      22            20
  PC                       14      14             9
  Pvalb                    23      24            24
  SMC                       3       2             3
  Sncg                     22      23            22
  Sst                      23      24            23
  Sst.Chodl                 1       7             3
  Vip                      23      24            24
  VLMC                      3       4             3
2023-07-18 11:26:15 dropping 0 pseudo-bulked samples that are below 'min_ncells'.
Dx: Bipolar Disorder - 507 cols
2023-07-18 11:26:17 create model matrix
2023-07-18 11:26:17 run duplicateCorrelation()
2023-07-18 11:34:59 The estimated correlation is: 0.0976029292900136
2023-07-18 11:34:59 computing enrichment statistics
Error in `purrr::map2()`:
ℹ In index: 1.
ℹ With name: Bipolar Disorder.
Caused by error:
! cannot allocate vector of size 106.7 Mb
Backtrace:
     ▆
  1. ├─purrr::map2(...)
  2. │ └─purrr:::map2_("list", .x, .y, .f, ..., .progress = .progress)
  3. │   ├─purrr:::with_indexed_errors(...)
  4. │   │ └─base::withCallingHandlers(...)
  5. │   ├─purrr:::call_with_cleanup(...)
  6. │   └─global .f(.x[[i]], .y[[i]], ...)
  7. │     └─spatialLIBD::registration_stats_enrichment(...)
  8. │       └─base::lapply(...)
  9. │         └─spatialLIBD (local) FUN(X[[i]], ...)
 10. │           ├─limma::eBayes(...)
 11. │           └─limma::lmFit(...)
 12. │             └─limma::gls.series(...)
 13. │               ├─base::backsolve(cholV, t(M), transpose = TRUE)
 14. │               ├─base::t(M)
 15. │               └─base::t.default(M)
 16. └─base::.handleSimpleError(...)
 17.   └─purrr (local) h(simpleError(msg, call))
 18.     └─cli::cli_abort(...)
 19.       └─rlang::abort(...)
Execution halted
**** Job ends ****
Tue Jul 18 11:35:03 EDT 2023
